{"version":3,"file":"react-google-login-ng.cjs.production.min.js","sources":["../node_modules/style-inject/dist/style-inject.es.js","../src/components/GButton.tsx"],"sourcesContent":["function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import React, { useEffect } from 'react';\r\nimport { I_ComponentProps } from '../interface/GButton.interface';\r\nimport \"./GButton.css\";\r\n\r\nconst GButton = ({\r\n  disabled,\r\n  script: src = 'https://accounts.google.com/gsi/client',\r\n  successCallback,\r\n  config,\r\n  method,\r\n  ...props\r\n}: I_ComponentProps) => {\r\n\r\n  const BTN_CONTAINER = \"NG_GLOGIN_BTN\"\r\n\r\n  useEffect(() => {\r\n\r\n    const initializeGsi = () => {\r\n      try {\r\n        window.google?.accounts.id.initialize({\r\n          callback: (resp: any) => {\r\n            successCallback({ ...resp, token_info_url: `https://oauth2.googleapis.com/tokeninfo?id_token=${resp.credential}` });\r\n            // Register state in cookies when user leave of site\r\n            window.google.accounts.id.disableAutoSelect();\r\n            //Cancel One Tap FLow\r\n            window.google.accounts.id.cancel();\r\n          },\r\n          ...props\r\n        });\r\n\r\n        if (method !== \"one_tap\") {\r\n          // Show button\r\n          window.google.accounts.id.renderButton(document.getElementById(BTN_CONTAINER), config || {})\r\n        }\r\n\r\n        if (method !== \"button\" && !disabled) {\r\n          // Show One Tap\r\n          window.google.accounts.id.prompt(() => { });\r\n        }\r\n\r\n      } catch (error) {\r\n        console.log({ error })\r\n      }\r\n    }\r\n\r\n    const script = document.createElement('script')\r\n    script.src = src;\r\n    script.async = true;\r\n    script.onload = initializeGsi;\r\n    document.querySelector('body')?.appendChild(script);\r\n\r\n    return () => {\r\n      document.querySelector('body')?.removeChild(script)\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (disabled) {\r\n      window.google?.accounts.id.cancel();\r\n    }\r\n  }, [disabled])\r\n\r\n  return (\r\n    <div id={BTN_CONTAINER} className={disabled ? \"disabled\" : \"\"}>\r\n      {method !== \"one_tap\" && <small>Loading</small>}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default GButton;\r\n"],"names":["css","ref","insertAt","document","head","getElementsByTagName","style","createElement","type","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","_ref","disabled","_ref$script","script","src","successCallback","config","method","props","_objectWithoutPropertiesLoose","_excluded","useEffect","async","onload","_window$google","window","google","accounts","id","initialize","_extends","callback","resp","token_info_url","credential","disableAutoSelect","cancel","renderButton","getElementById","prompt","error","console","log","_document$querySelect","querySelector","_document$querySelect2","removeChild","_window$google2","React","className"],"mappings":"wXAAA,SAAqBA,EAAKC,QACX,IAARA,IAAiBA,EAAM,IAC5B,IAAIC,EAAWD,EAAIC,SAEnB,GAAgC,oBAAbC,SAAnB,CAEA,IAAIC,EAAOD,SAASC,MAAQD,SAASE,qBAAqB,QAAQ,GAC9DC,EAAQH,SAASI,cAAc,SACnCD,EAAME,KAAO,WAEI,QAAbN,GACEE,EAAKK,WACPL,EAAKM,aAAaJ,EAAOF,EAAKK,YAKhCL,EAAKO,YAAYL,GAGfA,EAAMM,WACRN,EAAMM,WAAWC,QAAUb,EAE3BM,EAAMK,YAAYR,SAASW,eAAed,6XCnB9B,SAAHe,OACXC,EAAQD,EAARC,SAAQC,EAAAF,EACRG,OAAQC,WAAGF,EAAG,yCAAwCA,EACtDG,EAAeL,EAAfK,gBACAC,EAAMN,EAANM,OACAC,EAAMP,EAANO,OACGC,oIAAKC,CAAAT,EAAAU,GAoDR,OA/CAC,aAAU,iBA8BFR,EAASf,SAASI,cAAc,UAMtC,OALAW,EAAOC,IAAMA,EACbD,EAAOS,OAAQ,EACfT,EAAOU,OA/Be,WACpB,IAAI,IAAAC,SACFA,EAAAC,OAAOC,SAAPF,EAAeG,SAASC,GAAGC,WAAUC,GACnCC,SAAU,SAACC,GACTjB,EAAee,KAAME,GAAMC,mEAAoED,EAAKE,cAEpGT,OAAOC,OAAOC,SAASC,GAAGO,oBAE1BV,OAAOC,OAAOC,SAASC,GAAGQ,WAEzBlB,IAGU,YAAXD,GAEFQ,OAAOC,OAAOC,SAASC,GAAGS,aAAavC,SAASwC,eAnBlC,iBAmBiEtB,GAAU,IAG5E,WAAXC,GAAwBN,GAE1Bc,OAAOC,OAAOC,SAASC,GAAGW,QAAO,eAGnC,MAAOC,GACPC,QAAQC,IAAI,CAAEF,MAAAA,aAQlBG,EAAA7C,SAAS8C,cAAc,UAAvBD,EAAgCrC,YAAYO,GAErC,wBACLgC,EAAA/C,SAAS8C,cAAc,UAAvBC,EAAgCC,YAAYjC,MAE7C,IAEHQ,aAAU,WACM,IAAA0B,EAAVpC,WACFoC,EAAAtB,OAAOC,SAAPqB,EAAepB,SAASC,GAAGQ,YAE5B,CAACzB,IAGFqC,uBAAKpB,GAlDe,gBAkDIqB,UAAWtC,EAAW,WAAa,IAC7C,YAAXM,GAAwB+B"}
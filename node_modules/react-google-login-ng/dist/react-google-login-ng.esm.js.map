{"version":3,"file":"react-google-login-ng.esm.js","sources":["../node_modules/style-inject/dist/style-inject.es.js","../src/components/GButton.tsx","../src/index.tsx"],"sourcesContent":["function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import React, { useEffect } from 'react';\r\nimport { I_ComponentProps } from '../interface/GButton.interface';\r\nimport \"./GButton.css\";\r\n\r\nconst GButton = ({\r\n  disabled,\r\n  script: src = 'https://accounts.google.com/gsi/client',\r\n  successCallback,\r\n  config,\r\n  method,\r\n  ...props\r\n}: I_ComponentProps) => {\r\n\r\n  const BTN_CONTAINER = \"NG_GLOGIN_BTN\"\r\n\r\n  useEffect(() => {\r\n\r\n    const initializeGsi = () => {\r\n      try {\r\n        window.google?.accounts.id.initialize({\r\n          callback: (resp: any) => {\r\n            successCallback({ ...resp, token_info_url: `https://oauth2.googleapis.com/tokeninfo?id_token=${resp.credential}` });\r\n            // Register state in cookies when user leave of site\r\n            window.google.accounts.id.disableAutoSelect();\r\n            //Cancel One Tap FLow\r\n            window.google.accounts.id.cancel();\r\n          },\r\n          ...props\r\n        });\r\n\r\n        if (method !== \"one_tap\") {\r\n          // Show button\r\n          window.google.accounts.id.renderButton(document.getElementById(BTN_CONTAINER), config || {})\r\n        }\r\n\r\n        if (method !== \"button\" && !disabled) {\r\n          // Show One Tap\r\n          window.google.accounts.id.prompt(() => { });\r\n        }\r\n\r\n      } catch (error) {\r\n        console.log({ error })\r\n      }\r\n    }\r\n\r\n    const script = document.createElement('script')\r\n    script.src = src;\r\n    script.async = true;\r\n    script.onload = initializeGsi;\r\n    document.querySelector('body')?.appendChild(script);\r\n\r\n    return () => {\r\n      document.querySelector('body')?.removeChild(script)\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (disabled) {\r\n      window.google?.accounts.id.cancel();\r\n    }\r\n  }, [disabled])\r\n\r\n  return (\r\n    <div id={BTN_CONTAINER} className={disabled ? \"disabled\" : \"\"}>\r\n      {method !== \"one_tap\" && <small>Loading</small>}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default GButton;\r\n","import { I_ComponentProps } from \"./interface/GButton.interface\";\r\n\r\nimport GButton from \"./components/GButton\";\r\n\r\nconst GoogleLogin = GButton;\r\n\r\nexport default GoogleLogin;\r\n\r\nexport {\r\n    I_ComponentProps\r\n}\r\n\r\n\r\n// import Form from './components/FormElements/Form';"],"names":["GButton","_ref","disabled","_ref$script","script","src","successCallback","config","method","props","_objectWithoutPropertiesLoose","_excluded","BTN_CONTAINER","useEffect","initializeGsi","_window$google","window","google","accounts","id","initialize","_extends","callback","resp","token_info_url","credential","disableAutoSelect","cancel","renderButton","document","getElementById","prompt","error","console","log","createElement","async","onload","_document$querySelect","querySelector","appendChild","_document$querySelect2","removeChild","_window$google2","React","className","GoogleLogin"],"mappings":"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"}